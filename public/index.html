<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Editar Colores y Exportar Lottie</title>
</head>
<body>

    <h1>Convert Lottie Animation to MOV</h1>
    <input type="file" id="upload-json" accept=".json" />

    <!-- Selectores de color para diferentes partes de la animación -->
    <label>Color 1: <input type="color" id="color-picker" value="#ff0000" /></label>
    <label>Color 2: <input type="color" id="color-picker-2" value="#00ff00" /></label>
    <label>Color 3: <input type="color" id="color-picker-3" value="#0000ff" /></label>

    <div id="lottie-container" style="width: 500px; height: 500px;"></div>
    <canvas id="lottie-canvas" style="display:none;"></canvas>
    <button id="convert-button" disabled>Convert to MOV</button>

    <!-- Lottie Web -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.9.6/lottie.min.js"></script>

    <!-- Cargar FFmpeg desde CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.11.0/dist/ffmpeg.min.js"></script>

    <!-- Enlaza tu JS aquí -->
    <script src="./main.js"></script> 


  <!-- <script>
    let lottieAnimation;
    let animationInstance;
    const colorPicker = document.getElementById('colorPicker');
    const fileInput = document.getElementById('jsonFile');
    const exportButton = document.getElementById('exportButton');

    fileInput.addEventListener('change', function (event) {
      const file = event.target.files[0];
      const reader = new FileReader();

      reader.onload = function (e) {
        const jsonContent = JSON.parse(e.target.result);
        lottieAnimation = jsonContent;
        renderLottie(jsonContent);
      };

      reader.readAsText(file);
    });

    colorPicker.addEventListener('input', function () {
      if (lottieAnimation) {
        const newColor = colorPicker.value;

        lottieAnimation.layers.forEach(layer => {
          if (layer.shapes) {
            layer.shapes.forEach(shape => {
              if (shape.it) {
                shape.it.forEach(item => {
                  if (item.c) {
                    item.c.k = hexToRgba(newColor);
                  }
                });
              }
            });
          }
        });

        renderLottie(lottieAnimation);
      }
    });

    // Función para convertir el color HEX a RGBA
    function hexToRgba(hex) {
      const r = parseInt(hex.slice(1, 3), 16) / 255;
      const g = parseInt(hex.slice(3, 5), 16) / 255;
      const b = parseInt(hex.slice(5, 7), 16) / 255;
      return [r, g, b, 1]; // rgba con el valor de alpha 1
    }

  </script> -->
</body>
</html>
